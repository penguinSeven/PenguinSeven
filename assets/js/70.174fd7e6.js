(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{404:function(t,n,s){"use strict";s.r(n);var a=s(25),e=Object(a.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"搭建nginx-rtmp-window-服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建nginx-rtmp-window-服务器"}},[t._v("#")]),t._v(" 搭建nginx-rtmp-window 服务器")]),t._v(" "),n("h3",{attrs:{id:"_1-下载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载"}},[t._v("#")]),t._v(" 1.下载")]),t._v(" "),n("p",[t._v("地址  : "),n("a",{attrs:{href:"https://github.com/illuspas/nginx-rtmp-win32",target:"_blank",rel:"noopener noreferrer"}},[t._v("nginx-rtmp-win32"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"_2-配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置文件"}},[t._v("#")]),t._v(" 2. 配置文件")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("worker_processes 1; # 进程数\npid logs/nginx.pid; # pid \n\nerror_log logs/error.log; # 错误日志\n\nevents {\n        worker_connections 1024;\n}\n\nrtmp {\n        access_log logs/access.rtmp.log; # 指定日志文件\n\n        server {\n        \n            listen 6080;    # 监听6080 端口\n            #chunk_size 4000;\n            \n            application vod { # 点播\n                \n                play C:/nginxRtmp/video/; \n            }\n            \n            application oflaDemo { # 直播\n                \n                live on;\n                hls on;  # 生成hls\n                hls_path C:/nginxRtmp/temp/hls;  \n                hls_fragment 8s;\n            }\n                \n        }\n\n    }\n")])])]),n("h3",{attrs:{id:"_3-安装服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装服务"}},[t._v("#")]),t._v(" 3. 安装服务")]),t._v(" "),n("h4",{attrs:{id:"a-配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#a-配置文件"}},[t._v("#")]),t._v(" a. 配置文件")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v('<?xml version="1.0" encoding="utf-8"?>\n<service>  \n<id>Nginx Rtmp Server</id>\n<name>Nginx Rtmp Server</name>\n<description>无纸化会议视频服务器</description>\n<executable>C:/nginxRtmp/nginx.exe</executable>\n<logpath>C:/nginxRtmp/</logpath>\n<logmode>roll</logmode>\n<depend></depend>\n<startargument>-p C:/nginxRtmp</startargument>\n<stopargument>-p C:/nginxRtmp -s stop</stopargument>\n</service>\n')])])]),n("h4",{attrs:{id:"b-安装-卸载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#b-安装-卸载"}},[t._v("#")]),t._v(" b. 安装 & 卸载")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("winsw.exe install  \nwinsw.exe uninstall\n")])])]),n("h3",{attrs:{id:"_4-启动-停止"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-启动-停止"}},[t._v("#")]),t._v(" 4.启动 & 停止")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("net start 'Nginx Rtmp Server'\nnet stop 'Nginx Rtmp Server'\n")])])]),n("h3",{attrs:{id:"_5-mp4-修改元数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-mp4-修改元数据"}},[t._v("#")]),t._v(" 5. MP4 修改元数据")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$str_path")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("str_replace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'\\\\'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'FILE_PATH'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("exec")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"MP4Box -brand mp42 '),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$str_path")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(' 2>&1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);n.default=e.exports}}]);