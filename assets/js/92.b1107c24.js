(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{427:function(t,a,s){"use strict";s.r(a);var e=s(25),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"voyager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#voyager"}},[t._v("#")]),t._v(" VOYAGER")]),t._v(" "),a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),a("p",[t._v("laravel 后台管理扩展包")]),t._v(" "),a("p",[t._v("官网："),a("a",{attrs:{href:"https://the-control-group.github.io/voyager/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://the-control-group.github.io/voyager/"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Github："),a("a",{attrs:{href:"https://github.com/the-control-group/voyager",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/the-control-group/voyager"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("视频演示："),a("a",{attrs:{href:"https://devdojo.com/episode/laravel-admin-package-voyager",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://devdojo.com/episode/laravel-admin-package-voyager"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("创建一个现有的"),a("strong",[t._v("Laravel")]),t._v("项目")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ composer create-project laravel/laravel\n")])])]),a("p",[t._v("​")])]),t._v(" "),a("li",[a("p",[t._v("引入扩展包")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ composer require tcg/voyager\n")])])]),a("p",[t._v("​")])]),t._v(" "),a("li",[a("p",[t._v("创建配置文件  "),a("strong",[t._v(".env")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DB_HOST=localhost\nDB_DATABASE=homestead\nDB_USERNAME=homestead\nDB_PASSWORD=secret\n")])])])]),t._v(" "),a("li",[a("p",[t._v("然后注册"),a("strong",[t._v("Voyager")]),t._v("服务提供者以及图片处理服务到配置文件"),a("code",[t._v("config/app.php")]),t._v("的"),a("code",[t._v("providers")]),t._v("数组：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("TCG\\Voyager\\VoyagerServiceProvider::class,\nIntervention\\Image\\ImageServiceProvider::class,\n")])])]),a("p",[t._v("​")])]),t._v(" "),a("li",[a("p",[t._v("最后，我们可以通过以下命令安装Voyager：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("php artisan voyager:install\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 自动生成管理员\nphp artisan voyager:install --with-dummy\n")])])])]),t._v(" "),a("li",[a("p",[t._v("安装完成后，就可以进入后台查看效果了。最简单的方式是在项目根目录下运行"),a("code",[t._v("php artisan serve")]),t._v("，然后在浏览器中访问"),a("code",[t._v("http://localhost:8000/admin")]),t._v("，这样就可以进入登录认证页面，我们可以使用如下演示账户：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("email: admin@admin.com\npassword: password\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"技巧"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#技巧"}},[t._v("#")]),t._v(" 技巧")]),t._v(" "),a("h3",{attrs:{id:"覆盖view"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#覆盖view"}},[t._v("#")]),t._v(" 覆盖view")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("/ flug-info\n   ├─ browse.blade.php -------------------- 列表文件\n   ├─ edit-add.blade.php ------------------ 编辑文件\n  \n\n")])])]),a("h3",{attrs:{id:"自定义controller"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义controller"}},[t._v("#")]),t._v(" 自定义Controller")]),t._v(" "),a("ul",[a("li",[t._v("配置config/voyager")])]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n    |--------------------------------------------------------------------------\n    | Controllers config\n    |--------------------------------------------------------------------------\n    |\n    | Here you can specify voyager controller settings\n    |\n    */")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'controllers'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'namespace' => 'TCG\\\\Voyager\\\\Http\\\\Controllers',")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'namespace'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'App\\\\Http\\\\Controllers\\\\Voyager'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])]),a("ul",[a("li",[t._v("生成控制器")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("php artisan voyager:controllers\n")])])]),a("h3",{attrs:{id:"自定义路由-路由覆盖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义路由-路由覆盖"}},[t._v("#")]),t._v(" 自定义路由& 路由覆盖")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Route")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'prefix'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'admin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Custom")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Route")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'as'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'custom.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 系统设置")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Route")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/system'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'uses'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'SystemController@index'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'as'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'system'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Voyager")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Voyager")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("routes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Overriding Routes")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Route::post('login', ['uses' => 'MyAuthController@postLogin', 'as' => 'postlogin']);")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),a("h2",{attrs:{id:"安装easywechat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装easywechat"}},[t._v("#")]),t._v(" 安装easyWechat")]),t._v(" "),a("h3",{attrs:{id:"引入扩展包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引入扩展包"}},[t._v("#")]),t._v(" 引入扩展包")]),t._v(" "),a("ul",[a("li",[t._v("使用"),a("code",[t._v("composer")]),t._v("进行安装")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("composer")]),t._v(" require "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"overtrue/laravel-wechat:~4.0"')]),t._v("\n")])])]),a("ul",[a("li",[t._v("在 "),a("code",[t._v("config/app.php")]),t._v(" 注册 "),a("code",[t._v("ServiceProvider")]),t._v(" 和 "),a("code",[t._v("Facade")]),t._v(" (Laravel 5.5 无需手动注册)")])]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'providers'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified static-context"}},[t._v("Overtrue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("LaravelWeChat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ServiceProvider")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'aliases'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'EasyWeChat'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified static-context"}},[t._v("Overtrue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("LaravelWeChat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Facade")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("ul",[a("li",[t._v("创建配置文件：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ php artisan vendor:publish "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--provider")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Overtrue\\LaravelWeChat\\ServiceProvider"')]),t._v("\n")])])]),a("ul",[a("li",[a("p",[t._v("修改应用根目录下的 "),a("code",[t._v("config/wechat.php")]),t._v(" 中对应的参数即可。")])]),t._v(" "),a("li",[a("p",[t._v("每个模块基本都支持多账号，默认为 "),a("code",[t._v("default")]),t._v("。")])])]),t._v(" "),a("h2",{attrs:{id:"常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),a("h3",{attrs:{id:"mysql数据库版本低于5-7-7-可能会出现-specified-key-was-too-long-error-的报错"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql数据库版本低于5-7-7-可能会出现-specified-key-was-too-long-error-的报错"}},[t._v("#")]),t._v(" mysql数据库版本低于5.7.7，可能会出现 “Specified key was too long error.”的报错")]),t._v(" "),a("ul",[a("li",[t._v("修改App/Providers/AppServiceProvider.php文件，代码如下；")])]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Support"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Facades"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Schema")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("boot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Schema")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defaultStringLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("191")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("​")])])}),[],!1,null,null,null);a.default=n.exports}}]);